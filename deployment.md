# Разворачивание проекта

1. Скачать репозиторий [libs](https://hg.turbodevelopers.com/turbo/libs)
1. Перейти в крайнюю ревизию ветки `configurable-build`
1. В корне локального веб-сервера Apache (`DOCUMENT_ROOT`) создать папку для нового проекта, скопировать туда все содержимое из `libs`.
1. Если все сделано правильно, то сайт с дефолтной версткой станет доступен по адресу `http://127.0.0.1/<папка_проекта>`
1. В терминале перейти в `<папка_проекта>/templates/` и запустить `npm install` (или просто `npm i`) для установки npm модулей.  

## Выборочная установка npm модулей

При запуске `npm i` загрузятся абсолютно все модули, указанные в `templates/package.json`. Однако, в проекте есть и опциональные модули, скачивать которые не обязательно. Они описаны в объекте `optionalDependencies`. Специально для возможности выборочной установки зависимостей, многие из них были вынесены во внешние файлы. Например, ключ `jade-templates` содержит ссылку на внешний файл `gulp/modules/jade-templates/package.json`, в котором описаны необходимые модули для работы с jade.

```json
{
  "devDependencies": {
    "core": "file:gulp\\core"                                  # Базовые пакеты для разработки
  },
  "optionalDependencies": {                                    # Опциональные пакеты
    "gulp-less": "^3.3.0",                                     # LESS
    "gulp-sass": "^3.1.0",                                     # Sass
    "gulp-stylus": "^2.6.0",                                   # Stylus
    "done_message": "file:gulp\\modules\\done_message",        # Пакеты для Done message
    "jade-templates": "file:gulp\\modules\\jade-templates",    # Пакеты для сборки Jade
    "png-sprite": "file:gulp\\modules\\png-sprite",            # Пакеты для сборки PNG спрайтов
    "svg-sprite": "file:gulp\\modules\\svg-sprite"             # Пакеты для сборки SVG спрайтов
  }
}

```

Если вы не хотите скачивать все опциональные модули, то нужно запускать установку с указанием конкретных ключей через пробел: `npm i core <ключ_1> <ключ_2>`. Ключ `core` нужно писать всегда, т.к. он содержит ссылку на файл `gulp/core/package.json` со списком обязательных для разработки зависимостей.

Например, вы решили, что будете писать обычный HTML, использовать Stylus в качестве препроцессора и собирать только SVG спрайты. Тогда нужно запустить команду `npm i core gulp-stylus svg-sprite`. 